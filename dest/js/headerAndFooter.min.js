"use strict";function SetInputLog(e){if(e&&""!==e)if(localStorage.getItem("searchValue")){(a=JSON.parse(localStorage.getItem("searchValue"))).push({key:e});var t={};a=a.reduce(function(e,a){return!t[a.key]&&(t[a.key]=e.push(a)),e},[]),localStorage.setItem("searchValue",JSON.stringify(a))}else{var a;(a=[]).push({key:e});var o=JSON.stringify(a);localStorage.setItem("searchValue",o)}}function GetInputLog(){if(localStorage.getItem("searchValue")){var e=localStorage.getItem("searchValue");addDom(e=JSON.parse(e))}}function addDom(e){$(".history").html("");for(var a=0;a<e.length;a++){var t='<li class="activeClass"><a href="http://www.baidu.com">'+e[a].key+'</a><span onclick="clertlog(this)" class="iconfont icon-close after"></span> </li> ';$(".history").append(t)}0<e.length&&$(".history").append('<div class="clearLog"> <a onclick="clertAll()" class="log logs" href="javascript:void(0)">清除历史记录</a></div>')}function clertAll(){localStorage.getItem("searchValue")&&(localStorage.removeItem("searchValue"),$(".history").html(""))}function clertlog(e){for(var a=$(e).prev().text(),t=JSON.parse(localStorage.getItem("searchValue")),o=0;o<t.length;o++)if(t[o].key===a){t.splice(o,1);break}addDom(t),localStorage.setItem("searchValue",JSON.stringify(t))}$(function(){function a(){SetInputLog($("#search").val())}$(".navList li").mouseover(function(){$(".navList li").removeClass("activeClass"),$(".navList li").eq($(this).index()).addClass("activeClass")}),$(".dimSearch li").click(function(){var e=$(this).find("span").text();$("#search").val(e),$(".dimSearch").hide()}),$("#search").bind("input propertychange",function(e){var a;(a=$("#search").val())&&""!==a&&void 0!==a?$(".dimSearch").show():$(".dimSearch").hide()}),$("#search").on("keypress",function(e){13===e.keyCode&&a()}),$("#searchIcont").click(function(){a()}),$("#search").focus(function(){GetInputLog()}),$("body").scroll(function(){300<$(this).scrollTop()?$(".returnTop img").show():$(".returnTop img").hide()}),$(".returnTop").click(function(){$("html,body").animate({scrollTop:0},300)})});