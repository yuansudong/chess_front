"use strict";function SetInputLog(e){if(e&&""!==e)if(localStorage.getItem("searchValue")){(a=JSON.parse(localStorage.getItem("searchValue"))).unshift({key:e});var t={};5<=(a=a.reduce(function(e,a){return!t[a.key]&&(t[a.key]=e.push(a)),e},[])).length&&a.splice(5,1),localStorage.setItem("searchValue",JSON.stringify(a))}else{var a;(a=[]).unshift({key:e});var c=JSON.stringify(a);localStorage.setItem("searchValue",c)}}function GetInputLog(){if(localStorage.getItem("searchValue")){var e=localStorage.getItem("searchValue");addDom(e=JSON.parse(e))}}function addDom(e){$(".history").html(""),0<e.length&&$(".history").append('<div class="clearLog"><span>历史搜索</span> <a onclick="clertAll()" class="log logs" href="javascript:void(0)">清空</a></div>');for(var a=0;a<e.length;a++){var t='<li class="activeClass"><a href="http://www.baidu.com">'+e[a].key+'</a><span onclick="clertlog(this)" class="iconfont icon-close after"></span> </li> ';$(".history").append(t)}}function clertAll(){localStorage.getItem("searchValue")&&(localStorage.removeItem("searchValue"),$(".history").html(""))}function clertlog(e){for(var a=$(e).prev().text(),t=JSON.parse(localStorage.getItem("searchValue")),c=0;c<t.length;c++)if(t[c].key===a){t.splice(c,1);break}addDom(t),localStorage.setItem("searchValue",JSON.stringify(t))}$(function(){function a(){SetInputLog($("#search").val())}$(".navList li").mouseover(function(){$(".navList li").removeClass("activeClass"),$(".navList li").eq($(this).index()).addClass("activeClass")}),$(".dimSearch li").click(function(){var e=$(this).find("span").text();$("#search").val(e),$(".dimSearch").hide()}),$("#search").bind("input propertychange",function(e){var a;(a=$("#search").val())&&""!==a&&void 0!==a?$(".dimSearch").show():$(".dimSearch").hide()}),$("#search").on("keypress",function(e){13===e.keyCode&&a()}),$("#searchIcont").click(function(){a()}),$("#search").focus(function(){GetInputLog()}),$("body").scroll(function(){300<$(this).scrollTop()?$(".returnTop img").show():$(".returnTop img").hide()}),$(".returnTop").click(function(){$("html,body").animate({scrollTop:0},300)})});