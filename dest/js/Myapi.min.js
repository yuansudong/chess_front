"use strict";function Myapi(){this.JSON={index:0,lagout:function(i,n,t){this.speed=n;var e=i,s=e.children("ul:first"),h=e.children("ul:last"),a=e.children("a"),d=s.children("li"),l=d.find("img"),o=l.width(),c=l.height();e.height(c+Math.abs(t)).width(o);var r=(e.width()-o)/2,f=d.size();s.width(o*f).css("left",r),this.appendP(e,h,f),this.move(s,h,o,r,f),this.cut(s,a,o,r,h,f),this.changes(s,h,o,f,r),e.hover($.proxy(function(){clearInterval(this.moveTimer),a.animate({opacity:.8})},this),$.proxy(function(){this.move(s,h,o,r,f),a.animate({opacity:.2})},this))},appendP:function(i,n,t){for(var e=0;e<t;e++){var s=$("<li></li>");0==e&&s.addClass("now"),n.append(s)}n.width(n.find("li:first").outerWidth(!0)*t),n.css("left",(i.width()-n.width())/2)},move:function(i,n,t,e,s){this.moveTimer=setInterval($.proxy(function(){this.animate(i,t,e),this.indexChange(n,s,1)},this),this.speed)},indexChange:function(i,n,t){this.index>=n-1&&0<t?this.index=0:this.index<=0&&t<0?this.index=n-1:this.index+=t,i.find("li").eq(this.index).addClass("now").siblings().removeClass("now")},animate:function(i,n,t,e){i.animate({left:-n+t},$.proxy(function(){i.css("left",t),0<n&&(e?(i.append(i.children("li:lt("+e+")")),console.log(i.children("li:lt("+e+")"))):i.append(i.find("li:first")))},this))},cut:function(i,n,t,e,s,h){n.css("top",(i.height()-n.height())/2);var a=this;n.on("click",function(){$(this).hasClass("next")?(a.animate(i,t,e),a.indexChange(s,h,1)):(i.css("left",-t+e),i.prepend(i.find("li:last")),a.animate(i,0,e),a.indexChange(s,h,-1))})},changes:function(t,i,e,s,h){var a=this;i.find("li").on("click",function(){var i=0,n=0;$(this).addClass("now").siblings().removeClass("now"),i=$(this).index()<a.index?(n=s-a.index+$(this).index())*e:(n=$(this).index()-a.index)*e,a.index=$(this).index(),a.animate(t,i,h,n)})}}}